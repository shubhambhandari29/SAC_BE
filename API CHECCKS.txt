
/login

{
  "email": "test@example.com",
  "password": "MyNewPassw0rd!"
}

response :


{
  "message": "Sign in successful",
  "user": {
    "id": 1,
    "first_name": "Test",
    "last_name": "User",
    "email": "test@example.com",
    "role": "admin"
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZmlyc3RfbmFtZSI6IlRlc3QiLCJsYXN0X25hbWUiOiJVc2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6ImFkbWluIiwiZXhwIjoxNzY0MTk3NjU5LCJ1c2VyIjp7ImlkIjoxLCJmaXJzdF9uYW1lIjoiVGVzdCIsImxhc3RfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJyb2xlIjoiYWRtaW4ifX0.FbC6BU9k6fYzq7766vCwro216rbE_pNZlY_gXfXGT-M"
}



/auth/me : GET

response :

{
  "message": "User authenticated",
  "user": {
    "id": 1,
    "first_name": "Test",
    "last_name": "User",
    "email": "test@example.com",
    "role": "admin"
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZmlyc3RfbmFtZSI6IlRlc3QiLCJsYXN0X25hbWUiOiJVc2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6ImFkbWluIiwiZXhwIjoxNzY0MTk4MjQxLCJ1c2VyIjp7ImlkIjoxLCJmaXJzdF9uYW1lIjoiVGVzdCIsImxhc3RfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJyb2xlIjoiYWRtaW4ifX0.7iRf_aMnPfy-ZwpY0e0paH6nsLqHlv2wLsR5wx-8c2E"
}

http://127.0.0.1:8000/auth/logout

{
  "message": "Logged out successfully"
}


------------------------

GET /sac_account/

Response :

[
  {
    "CustomerNum": "CUST001",
    "CustomerName": "Acme Corp",
    "OnBoardDate": null,
    "ServLevel": "Gold",
    "Stage": "user",
    "isSubmitted": true,
    "AcctOwner": "Alice"
  },
  {
    "CustomerNum": "CUST002",
    "CustomerName": "Acme Corp",
    "OnBoardDate": null,
    "ServLevel": "Gold",
    "Stage": "admin",
    "isSubmitted": true,
    "AcctOwner": "Alice"
  }
]


/sac_account/upsert

Request :

{
  "CustomerNum": "CUST001",
  "CustomerName": "Acme Corp",
  "ServLevel": "Gold",
  "Stage": "Admin",
  "isSubmitted": 1,
  "AcctOwner": "Alice"
}

Response :

{
  "message": "Transaction successful",
  "count": 1
}


---------------------------

GET /sac_policies

[
  {
    "CustomerNum": "CUST001",
    "PolicyNum": "POL001",
    "PolMod": "00",
    "ServLevel": "Gold",
    "Stage": null,
    "AcctOwner": null,
    "isSubmitted": null,
    "AgentCode": null,
    "AgentName": null,
    "AccountName": null,
    "InceptDate": null,
    "AcctOnPolicyName": null
  }
]

/sac_policies/upsert

Request

{
  "CustomerNum": "CUST002",
  "PolicyNum": "POL001",
  "PolMod": "01",
  "ServLevel": "Gold",
  "Stage": "Admin",
  "AcctOwner": "Alices"
}

Response :

{
  "message": "Transaction successful",
  "count": 1
}

/sac_policies/update_field_for_all_policies


request :

{
  "fieldName": "Stage",
  "fieldValue": "Clientsss",
  "updateVia": "CustomerNum",
  "updateViaValue": "CUST001"
}


response :

{
  "message": "Update successful"
}


-----------------------------------------------------------------------------


/search_sac_account/search_by="policyNum"

response :

[
  {
    "Policy Number": "POL001",
    "Customer Number": "CUST002",
    "Customer Name": "Acme Corp",
    "On Board Date": null,
    "Service Level": "Gold"
  }
]


-----------------------------------------------------

/GET /loss_run_distribution

response :


[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "lossrun@acme.com"
  }
]

 /loss_run_distribution/upsert

 request :

 [
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "alerts@example.com",
    "RecipientName": "Claims Team"
  }
]


response : 

{
  "message": "Transaction successful",
  "count": 1
}


/loss_run_distribution/delete

request:

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "alerts@example.com",
    "RecipientName": "Claims Team"
  }
]


response :

{
  "message": "Deletion successful",
  "count": 1
}



GET /claim_review_distribution

response :

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "claims@example.com",
    "RecipientName": "Claims Team"
  },
  {
    "CustomerNum": "CUST002",
    "EMailAddress": "manager@example.com",
    "RecipientName": "Account Manager"
  }
]

/claim_review_distribution/upsert

request :

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "claims@example.com",
    "RecipientName": "Claims Teamsssss"
  }
]


response :

{
  "message": "Transaction successful",
  "count": 1
}

POST /claim_review_distribution/delete

request :

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "claims@example.com",
    "RecipientName": "Claims Teamsssss"
  }
]


response :

{
  "message": "Transaction successful",
  "count": 1
}


GET /deduct_bill_distribution

response:

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "claims@example.com"
  },
  {
    "CustomerNum": "CUST002",
    "EMailAddress": "manager@example.com"
  }
]

/deduct_bill_distribution/upsert

request :

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "billingsss@example.com"
  }
]


response :

{
  "message": "Transaction successful",
  "count": 1
}

POST /deduct_bill_distribution/delete

request :

[
  {
    "CustomerNum": "CUST001",
    "EMailAddress": "billingsss@example.com"
  }
]

response :

{
  "message": "Transaction successful",
  "count": 1
}


GET /loss_run_frequency

response :

[
  {
    "CustomerNum": "CUST001",
    "MthNum": 1,
    "Frequency": 12
  }
]

POST /loss_run_frequency/upsert

Request :

[
  { "CustomerNum": "CUST001", "MthNum": 1, "Frequency": 12 },
  { "CustomerNum": "CUST001", "MthNum": 2, "Frequency": 6 }
]

response :

{
  "message": "Transaction successful",
  "count": 2
}

GET /deduct_bill_frequency

response :

[
  {
    "CustomerNum": "CUST001",
    "MthNum": 1,
    "Frequency": 12
  }
]

POST /deduct_bill_frequency/upsert

Request :

[
  { "CustomerNum": "CUST001", "MthNum": 1, "Frequency": 12 },
  { "CustomerNum": "CUST001", "MthNum": 2, "Frequency": 6 }
]

response :

{
  "message": "Transaction successful",
  "count": 2
}


GET /claim_review_frequency

response :

[
  {
    "CustomerNum": "CUST001",
    "MthNum": 1,
    "Frequency": 3
  },
  {
    "CustomerNum": "CUST002",
    "MthNum": 1,
    "Frequency": 4
  },
  {
    "CustomerNum": "CUST001",
    "MthNum": 2,
    "Frequency": 1
  },
  {
    "CustomerNum": "CUST002",
    "MthNum": 3,
    "Frequency": 2
  }
]

POST /claim_review_frequency/upsert

Request :

[
  { "CustomerNum": "CUST001", "MthNum": 1, "Frequency": 12 },
  { "CustomerNum": "CUST001", "MthNum": 2, "Frequency": 6 }
]

response :

{
  "message": "Transaction successful",
  "count": 2
}